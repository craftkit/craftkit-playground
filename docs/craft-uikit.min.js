window.Craft=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";const i=n(1);t.exports=i.default||i},function(t,e,n){"use strict";n.r(e);var i={packagename:"Craft.Core.Defaults",BASE_DIV_NAME:"CraftRoot",ALLOW_COMPONENT_SHORTCUT:!1};class o{constructor(t){this.launch=t.launch,this.path=t.path,this.event=t.event}}var s={packagename:"Craft.Core.HashRouter",route:function(t,e){let n=window.location.hash.match(/^#\/(.*)/),i="";n&&(i=n[1]);let s=new o({launch:e,path:i,event:t||{}});a.getRootViewController().resolveRoutingRequest(s)},normalize:function(t){return t||(t=""),"#/"+(t=t.replace(/^#*\/*/,""))}},a={packagename:"Craft.Core.Context",rootViewController:"",app:"",setApp:function(t){this.app=t,this.app.router?this.router=this.app.router:this.router=s},getApp:function(){return this.app},setRootElement:function(t){this.rootElement=t},getRootElement:function(){return this.rootElement},setRootViewController:function(t){this.rootViewController=t,this.rootElement||(this.rootElement=document.getElementById(i.BASE_DIV_NAME)),t.viewWillAppear(),t.isViewLoaded||t.loadView(),this.rootElement.appendChild(t.view),t.viewDidAppear(),window.addEventListener("popstate",e=>{t.didReceivePopstate(e)})},getRootViewController:function(){return this.rootViewController},router:"",setRouter:function(t){this.router=t},getRouter:function(){return this.router}},r={packagename:"Craft.Core.Bootstrap",boot:function(t){if(!t)throw"no app";a.setApp(t),a.getApp().didBootApplication()}},h={packagename:"Craft.Core.PathRouter",route:function(t,e){let n=window.location.pathname,i=new o({launch:e,path:n,event:t||{}});a.getRootViewController().resolveRoutingRequest(i)},normalize:function(t){return t||(t=""),"/"+(t=t.replace(/^#*\/*/,""))}},l={packagename:"Craft.Core.ComponentStack",counter:0,container:{},push:function(t){this.container[t.componentId]=t},set:function(t,e){this.container[t]=e,i.ALLOW_COMPONENT_SHORTCUT&&(window[t]=e)},get:function(t){return this.container[t]},del:function(t){delete this.container[t],i.ALLOW_COMPONENT_SHORTCUT&&delete window[t]},nextSerial:function(){return this.counter++}},d={packagename:"Craft.Core.KeyboardManager",keyboard_actions:{},handler:function(t){Craft.Core.KeyboardManager.action(t.keyCode)},activate:function(){window.addEventListener("keyup",this.handler)},deactivate:function(){window.removeEventListener("keyup",this.handler)},register:function(t,e,n){t&&e&&n&&(this.keyboard_actions[e]||(this.keyboard_actions[e]={}),this.keyboard_actions[e][t]=n)},remove:function(t){if(t)for(var e=Object.keys(this.keyboard_actions),n=0;n<e.length;n++)delete this.keyboard_actions[e[n]][t]},action:function(t){if(this.keyboard_actions[t])for(var e=Object.keys(this.keyboard_actions[t]),n=0;n<e.length;n++){(0,this.keyboard_actions[t][e[n]])()}},clear:function(){this.keyboard_actions={};let t=Object.keys(this.keyboard_actions);for(let e=0;e<t.length;e++){let n=t[e];if(!this.keyboard_actions[n])continue;let i=Object.keys(this.keyboard_actions[n]);for(let t=0;e<i.length;t++)this.remove(this.keyboard_actions[n][i[t]])}}},c={packagename:"Craft.Core.NotificationCenter",EventListeners:{},add:function(t,e){this.EventListeners[t]||(this.EventListeners[t]={listeners:{},serial:1});var n=this.EventListeners[t].listeners,i=this.EventListeners[t].serial++;return e.serial=i,n[i]=e,i},listen:function(t,e){var n={method:e,once:!1};return this.add(t,n)},once:function(t,e){var n={method:e,once:!0};return this.add(t,n)},do_notify:function(t,e){if(this.EventListeners[t]){for(var n=this.EventListeners[t].listeners,i=Object.keys(n),o=[],s=0;s<i.length;s++){var a=i[s],r=n[a];(0,r.method)(e),r.once&&o.push(a)}for(s=0;s<o.length;s++)delete n[o[s]]}},notify:function(t,e){for(var n=Object.keys(this.EventListeners),i=[],o=0;o<n.length;o++){var s=n[o],a=s.replace("/","\\/").replace(".","\\.").replace("*",".*");t.match(a)&&i.push(s)}for(o=0;o<i.length;o++)this.do_notify(i[o],e)},remove:function(t,e){this.EventListeners[t]&&delete this.EventListeners[t].listeners[e]}};class p{constructor(){this.packagename="",this.componentId="",this.componentname="",this.viewController="",this.isViewLoaded=!1,this.parent=null,this.view=document.createElement("div"),this.root="",this.shadow=this.view.attachShadow({mode:"open"}),this.css="",this.componentname=this.constructor.name,this.component_serial=l.nextSerial(),this.componentId=this.componentname+"_"+this.component_serial}init(){this.packagename?this.componentname=this.packagename.replace(/[\/\.]/g,"_"):this.componentname=this.constructor.name,this.componentId=this.componentname+"_"+this.component_serial,l.set(this.componentId,this),this.view.id=this.componentId}render(){this.loadStyle(),this.renderView()}renderView(){let t=this.template(this.componentId).trim(),e=document.createElement("template");e.innerHTML=t,this.root&&this.root.remove(),this.root=e.content.firstChild,this.shadow.appendChild(this.root)}loadStyle(){this.style&&this.appendStyle(this.style(this.componentId))}appendStyle(t,e){if(e){let t=this.view.getElementById(e);t&&this.view.removeChild(t)}let n=document.createElement("style");n.textContent=t,n.id=e||this.componentId+"_"+l.nextSerial(),this.shadow.appendChild(n),this.css||(this.css=[]),this.css.push(n)}unloadStyle(){if(this.css){for(let t=0;t<this.css.length;t++)this.css[t].remove();this.css=""}}loadView(t){this.init(),this.render(),this.isViewLoaded=!0,this.viewDidLoad(t)}unloadView(t){this.viewWillDisappear(),this.view.remove(),this.viewDidDisappear(),this.view="",this.isViewLoaded=!1,l.del(this.componentId),t&&t()}viewDidLoad(t){t&&t()}viewWillAppear(t){t&&t()}viewDidAppear(t){t&&t()}viewWillDisappear(t){t&&t()}viewDidDisappear(t){t&&t()}showView(t){this.view.style.display="block",t&&t()}showComponent(t){this.showView(t)}hideView(t){this.view.style.display="none",t&&t()}hideComponent(t){this.hideView(t)}appendSubView(t){if(!t)return;let e,n,i;if(t instanceof p)e=this.root,n=t;else{if(t.id){let n=t.id.replace(/^#/,"");e=this.shadow.getElementById(n)}else e=t.target||this.root;n=t.component,i=t.callback}n.isViewLoaded||n.loadView(),this.viewController&&n.setViewController(this.viewController),n.parent=this,n.viewWillAppear(()=>{e.appendChild(n.view),i&&i(),n.viewDidAppear()})}appendView(t){this.appendSubView(t)}removeSubView(t){if(!t)return;let e,n;t instanceof p?e=t:(e=t.component,n=t.callback),e.viewWillDisappear(()=>{e.view.remove(),n&&n(),e.viewDidDisappear()})}removeView(t){this.removeSubView(t)}removeFromParent(t){this.parent.removeSubView(this)}replaceView(t){if(!t)return;let e,n,i;if(t instanceof p)e=this.root,n=t;else{if(t.id){let n=t.id.replace(/^#/,"");e=this.shadow.getElementById(n)}else e=t.target||this.root;n=t.component,i=t.callback}for(;e.firstChild;)e.removeChild(e.firstChild);this.appendSubView({target:e,component:n})}style(t){return".root {}"}template(t){return'<div class="root"></div>'}}var u={packagename:"Craft.Core.Transition",animate:function(t){new w(t).animate()}};class w{constructor(t){this.packagename="Craft.Core.Transition.Animator",this.DEFAULT_DURATION=150,this.DEFAULT_EASE="ease-in",this.options=t}animate(){let t=this.options.element,e=this.options.properties||{},n=this.options.duration||this.DEFAULT_DURATION,i=this.options.delay||0,o=this.options.ease||this.DEFAULT_EASE,s=this.options.callback;if(!t)return;let a=!1,r=[],h=Object.keys(e);for(let e=0;e<h.length;e++)r.push(h[e]+" "+String(n)+"ms "+o+" "+i+"ms"),0===e&&(t.style[h[e]]=window.getComputedStyle(t).getPropertyValue(h[e]));let l=r.join(", ");t.style.transition=l;let d=function(e){a||(a=!0,clearTimeout(c),t.removeEventListener("transitionend",d),t.style.transition="",s&&s())};t.addEventListener("transitionend",d);let c=setTimeout(d,parseInt(n)+parseInt(i)+50);h.map((function(n){t.style[n]=e[n]}))}}var m={packagename:"Craft.Core.Gesture",enableTap:function(t){return new f(t)},enableSwipe:function(t){return new v(t)}};class f{constructor(t){this.packagename="Craft.Core.Gesture.Tap",this.target=t.target,this.tapHandler=t.tap,"ontouchend"in window?this.target.addEventListener("touchend",this.handleTouchEnd.bind(this),!1):this.target.addEventListener("mouseup",this.handleTouchEnd.bind(this),!1)}handleTouchEnd(t){this.tapHandler&&this.tapHandler(t)}}class v{constructor(t){this.packagename="Craft.Core.Gesture.Swipe",this.target=t.target,this.target.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),this.target.addEventListener("touchmove",this.handleTouchMove.bind(this),!1),this.swipeLeftHandler=t.left,this.swipeRightHandler=t.right,this.swipeUpHandler=t.up,this.swipeDownHandler=t.down,this.DIFF_THRESHOLD=t.DIFF_THRESHOLD||50,this.TIME_THRESHOLD=t.TIME_THRESHOLD||40,this.MULTI_THRESHOLD=t.MULTI_THRESHOLD||60,this.xDown=null,this.yDown=null,this.tDown=null,this.lastMultiTouch=null}handleTouchStart(t){let e=t.touches[0];this.xDown=e.clientX,this.yDown=e.clientY,this.tDown=Date.now()}handleTouchMove(t){if(!this.xDown||!this.yDown||!this.tDown)return;if(t.touches.length>1)return void(this.lastMultiTouch=Date.now());let e=t.touches[0].clientX,n=t.touches[0].clientY,i=this.xDown-e,o=this.yDown-n,s=Date.now()-this.tDown,a=Date.now()-this.lastMultiTouch;Math.abs(i)+Math.abs(o)<this.DIFF_THRESHOLD||s<this.TIME_THRESHOLD||a<this.MULTI_THRESHOLD||(Math.abs(i)>Math.abs(o)?i>0?this.swipeLeftHandler&&this.swipeLeftHandler(t):this.swipeRightHandler&&this.swipeRightHandler(t):o>0?this.swipeUpHandler&&this.swipeUpHandler(t):this.swipeDownHandler&&this.swipeDownHandler(t),this.xDown=null,this.yDown=null,this.tDown=null)}}class g extends p{getViewController(){return this.viewController}setViewController(t){this.viewController=t}}class y extends g{constructor(){super(),this.packagename="Craft.UI.DefaultViewController"}viewDidLoad(t){this.enableContentTapped(),t&&t()}enableContentTapped(){m.enableTap({target:this.view,tap:t=>{c.notify("ContentTapped",t)}})}appendView(t){if(!t)return;let e;e=t instanceof p?t:t.component,e.setViewController(this),super.appendView(t)}append(t){this.appendView(t)}removeView(t){super.removeView(t)}style(){return"\n\t\t\t* { box-sizing:border-box; margin:0; padding:0; }\n\t\t\t:host {\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin: 0px;\n\t\t\t\toverflow: hidden;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\t\t\t.root {\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin: 0px;\n\t\t\t\toverflow: hidden;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\t\t"}template(){return'\n\t\t\t<div class="root"></div>\n\t\t'}}var C={hasDisplayCutout:function(){let t=/iPad|iPhone|iPod/.test(navigator.userAgent),e=window.devicePixelRatio||1,n=window.screen.width*e,i=window.screen.height*e;return!(!t||1125!==n||2436!==i)||(!(!t||1242!==n||2688!==i)||!(!t||828!==n||1792!==i))},isStandaloneMode:function(){let t=1==window.navigator.standalone,e=window.matchMedia("(display-mode: standalone)").matches;return t||e}};const b={};b.Core={Bootstrap:r,Context:a,Defaults:i,ComponentStack:l,KeyboardManager:d,NotificationCenter:c,Component:p,StickComponent:class extends p{init(){this.packagename?this.componentname=this.packagename.replace(/[\/\.]/g,"_"):this.componentname=this.constructor.name,this.componentId=this.componentname,ComponentStack.set(this.componentId,this)}},Transition:u,Gesture:m,Route:o,Router:{packagename:"Craft.Core.Router",route:function(t,e){}},HashRouter:s,PathRouter:h},b.UI={View:g,BlockView:class extends g{showView(t){this.view.style.display="block",t&&t()}hideView(t){this.view.style.display="none",t&&t()}style(t){return super.style(t)+"\n\t\t\t:host {\n\t\t\t\tdisplay:block;\n\t\t\t}\n\t\t"}},InlineBlockView:class extends g{showView(t){this.view.style.display="inline-block",t&&t()}hideView(t){this.view.style.display="none",t&&t()}style(t){return super.style(t)+"\n\t\t\t:host {\n\t\t\t\tdisplay:inline-block;\n\t\t\t}\n\t\t"}},DefaultViewController:y,DefaultRootViewController:class extends y{constructor(){super(),this.packagename="Craft.UI.DefaultRootViewController"}bringup(){this.didReceivePopstate(null,!0)}didReceivePopstate(t,e){a.getRouter().route(t,e)}pushState(t){let e=t.state,n=t.title,i=t.path;window.history.pushState(e,n,i)}replaceState(t){let e=t.state,n=t.title,i=t.path;window.history.replaceState(e,n,i)}resolveRoutingRequest(t){}},ModalViewController:class extends g{constructor(){super(),this.packagename="Craft.UI.ModalViewController",this.MaskConfig={},this.MaskConfig.color="#000",this.MaskConfig.opacity=.5,this.AnimationConfig={},this.AnimationConfig.duration=150,this.AnimationConfig.delayShow=0,this.AnimationConfig.delayHide=150,this.mask="",this.container="",this.content="",this.viewController=""}viewDidLoad(t){this.mask=this.shadow.getElementById("mask"),this.container=this.shadow.getElementById("container"),this.view.addEventListener("touchmove",t=>{t.preventDefault()}),this.mask.addEventListener("touchmove",t=>{t.preventDefault()})}setContent(t){t.isViewLoaded||t.loadView(),this.content=t,this.content.setViewController(this),this.container.style["margin-top"]=String(window.screen.height)+"px",this.container.innerHTML="",this.content.viewWillAppear(),this.container.appendChild(this.content.view)}showMask(t){this.mask.style.display="block",this.mask.style.opacity=this.MaskConfig.opacity,this.mask.style["background-color"]=this.MaskConfig.color,t&&t()}hideMask(t){u.animate({element:this.mask,properties:{opacity:0},duration:this.AnimationConfig.duration,delay:this.AnimationConfig.delayHide,callback:()=>{this.mask.style.display="none",t&&t()}})}showContent(t){this.showMask(),this.content.viewDidAppear(),u.animate({element:this.container,properties:{"margin-top":"0px"},duration:this.AnimationConfig.duration,delay:this.AnimationConfig.delayShow,callback:t})}hideContent(t){this.hideMask(),this.content.viewWillDisappear(),u.animate({element:this.container,properties:{"margin-top":String(window.screen.height)+"px"},duration:this.AnimationConfig.duration,delay:this.AnimationConfig.delay,callback:()=>{this.content.viewDidDisappear(),this.hideMask(t)}})}style(){return"\n\t\t\t* { \n\t\t\t\tbox-sizing:border-box; margin:0; padding:0;\n\t\t\t}\n\t\t\t:host {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\toverflow-x: hidden;\n\t\t\t\toverflow-y: hidden;\n\t\t\t\t-webkit-tap-highlight-color:rgba(0,0,0,0);\n\t\t\t\t-webkit-touch-callout: none;\n\t\t\t}\n\t\t\t.root {\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\t-webkit-tap-highlight-color:rgba(0,0,0,0);\n\t\t\t\t-webkit-touch-callout: none;\n\t\t\t}\n\t\t\t.mask {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\tpadding-top: env(safe-area-inset-top);\n\t\t\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\t\t\tbackground-color: #000;\n\t\t\t\topacity: 0.5;\n\t\t\t\toverflow-x: hidden;\n\t\t\t\toverflow-y: hidden;\n\t\t\t\t-webkit-tap-highlight-color:rgba(0,0,0,0);\n\t\t\t\t-webkit-touch-callout: none;\n\t\t\t}\n\t\t\t.container {\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0px;\n\t\t\t\tleft: 0px;\n\t\t\t\tmargin-top: 0px;\n\t\t\t\tpadding-top: env(safe-area-inset-top);\n\t\t\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\t\t\tmin-width: 100vw;\n\t\t\t\theight: 100vh;\n\t\t\t\tcolor: #000;\n\t\t\t\toverflow-x: hidden;\n\t\t\t\toverflow-y: hidden;\n\t\t\t}\n\t\t"}template(){return'\n\t\t\t<div class="root">\n\t\t\t\t<div id="mask" class="mask"></div>\n\t\t\t\t<div id="container" class="container"></div>\n\t\t\t</div>\n\t\t'}},Device:C},b.Widget={},b.usePackage=function(t){t.inject(b)};e.default=b}]);